<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Analysis Matrix - Interactive Visualization</title>
    
    <!-- D3.js v7 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --classic-blue: #0F4C81;
            --ultimate-gray: #939597;
            --illuminating: #F5DF4D;
            --very-peri: #6667AB;
            --viva-magenta: #BB2649;
            --peach-fuzz: #FFBE98;
            --mocha-mousse: #A47764;
            
            --bg-primary: #0a0e27;
            --bg-secondary: #151932;
            --text-primary: #ffffff;
            --text-secondary: #a0a9c9;
            --border-color: #2a3456;
            
            --gradient-primary: linear-gradient(135deg, var(--very-peri) 0%, var(--viva-magenta) 100%);
            --gradient-secondary: linear-gradient(135deg, var(--peach-fuzz) 0%, var(--mocha-mousse) 100%);
            --gradient-dark: linear-gradient(180deg, #0a0e27 0%, #151932 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--gradient-dark);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .bg-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.03;
            background-image: 
                radial-gradient(circle at 20% 50%, var(--very-peri) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, var(--viva-magenta) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, var(--peach-fuzz) 0%, transparent 50%);
            animation: bgMove 20s ease-in-out infinite;
        }
        
        @keyframes bgMove {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(-20px, -20px) scale(1.1); }
            66% { transform: translate(20px, -10px) scale(0.9); }
        }
        
        .header {
            padding: 2rem 0;
            text-align: center;
            background: rgba(21, 25, 50, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(102, 103, 171, 0.5)); }
            to { filter: drop-shadow(0 0 30px rgba(187, 38, 73, 0.8)); }
        }
        
        .header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }
        
        .controls {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .control-group {
            background: rgba(42, 52, 86, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        
        .control-group:hover {
            background: rgba(42, 52, 86, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 103, 171, 0.2);
        }
        
        .control-group label {
            display: block;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .control-group select,
        .control-group input {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.95rem;
            min-width: 150px;
            transition: all 0.3s ease;
        }
        
        .control-group select:focus,
        .control-group input:focus {
            outline: none;
            border-color: var(--very-peri);
            box-shadow: 0 0 0 3px rgba(102, 103, 171, 0.1);
        }
        
        .btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(187, 38, 73, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .stats-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .stat-card {
            background: rgba(42, 52, 86, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 103, 171, 0.2);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .matrix-container {
            max-width: 1400px;
            margin: 3rem auto;
            padding: 0 2rem;
            background: rgba(21, 25, 50, 0.5);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            overflow: hidden;
        }
        
        .matrix-header {
            padding: 2rem;
            background: rgba(42, 52, 86, 0.2);
            border-bottom: 1px solid var(--border-color);
        }
        
        .matrix-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        #matrix-viz {
            padding: 2rem;
            min-height: 600px;
            position: relative;
            overflow-x: auto;
        }
        
        .cell {
            stroke: var(--border-color);
            stroke-width: 1;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .cell:hover {
            stroke: var(--illuminating);
            stroke-width: 2;
            filter: brightness(1.2);
        }
        
        .axis-label {
            font-size: 12px;
            fill: var(--text-secondary);
            font-weight: 500;
        }
        
        .axis-label:hover {
            fill: var(--illuminating);
            cursor: pointer;
        }
        
        .tooltip {
            position: absolute;
            padding: 1rem;
            background: rgba(10, 14, 39, 0.95);
            border: 1px solid var(--very-peri);
            border-radius: 8px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .tooltip.show {
            opacity: 1;
        }
        
        .tooltip h3 {
            color: var(--illuminating);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .tooltip p {
            color: var(--text-primary);
            margin: 0.25rem 0;
            font-size: 0.9rem;
        }
        
        .tooltip .count {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--peach-fuzz);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            padding: 1.5rem;
            background: rgba(42, 52, 86, 0.2);
            border-top: 1px solid var(--border-color);
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .legend-color {
            width: 30px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }
        
        .legend-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--very-peri);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            #matrix-viz {
                padding: 1rem;
            }
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        *:focus-visible {
            outline: 2px solid var(--very-peri);
            outline-offset: 2px;
        }
        
        @keyframes dataUpdate {
            0% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 0.5; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .updating {
            animation: dataUpdate 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    
    <header class="header">
        <h1>Account Analysis Matrix</h1>
        <p>Interactive Visualization of Account Distribution across Groups and Lots</p>
        <p style="font-size: 0.85rem; margin-top: 0.5rem; color: var(--illuminating);">
            ✨ LOT5 Sub-lots Consolidated | Generated: 2025-10-01 10:33:10
        </p>
    </header>
    
    <div class="controls">
        <div class="control-group">
            <label for="colorScheme">Color Scheme</label>
            <select id="colorScheme">
                <option value="pantone">Pantone Colors</option>
                <option value="heat">Heat Map</option>
                <option value="cool">Cool Tones</option>
                <option value="vibrant">Vibrant</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="cellSize">Cell Size</label>
            <input type="range" id="cellSize" min="30" max="80" value="50">
        </div>
        
        <div class="control-group">
            <label for="filterGroup">Filter Group</label>
            <select id="filterGroup">
                <option value="all">All Groups</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="filterLot">Filter Lot</label>
            <select id="filterLot">
                <option value="all">All Lots</option>
            </select>
        </div>
        
        <div class="control-group">
            <button class="btn" onclick="resetView()">Reset View</button>
        </div>
        
        <div class="control-group">
            <button class="btn" onclick="exportData()">Export CSV</button>
        </div>
    </div>
    
    <div class="stats-container">
        <div class="stat-card">
            <div class="stat-value" id="totalAccounts">0</div>
            <div class="stat-label">Total Accounts</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="totalGroups">0</div>
            <div class="stat-label">Groups</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="totalLots">0</div>
            <div class="stat-label">Lots</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="avgDensity">0</div>
            <div class="stat-label">Avg Density</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="maxCluster">0</div>
            <div class="stat-label">Max Cluster</div>
        </div>
    </div>
    
    <div class="matrix-container">
        <div class="matrix-header">
            <h2>Interactive Matrix Visualization</h2>
            <p>Click on cells to view account details • Hover for quick stats • LOT5 includes all sub-lots</p>
        </div>
        
        <div id="matrix-viz">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #0F4C81;"></div>
                <span class="legend-label">0-10 Accounts</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #6667AB;"></div>
                <span class="legend-label">11-50 Accounts</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #BB2649;"></div>
                <span class="legend-label">51-100 Accounts</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #FFBE98;"></div>
                <span class="legend-label">100+ Accounts</span>
            </div>
        </div>
    </div>
    
    <div class="tooltip" id="tooltip"></div>
    
    <script>
        // Embedded data
        const VISUALIZATION_DATA = {"groups": ["1_LOT1", "1_LOT2", "1_LOT3", "1_LOT4", "1_LOT5_GROUP1_ADJ_SIM", "1_LOT5_GROUP1_ADJ_SIM_HUMAN_CAP", "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM", "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM_HUMAN_CAP", "1_LOT5_NOT_IN_12_CASE", "2_LOT2", "2_LOT4", "2_LOT5_GROUP2_ADJ_SIM", "2_LOT5_NOT_IN_12_CASE", "3_LOT2", "3_LOT3", "3_LOT4", "3_LOT5_GROUP3_ADJ_ONLY", "3_LOT5_GROUP3_ADJ_SIM", "3_LOT5_GROUP3_NOT_ADJ_NOT_SIM", "3_LOT5_NOT_IN_12_CASE", "4_LOT2", "4_LOT4", "4_LOT5_GROUP4_ADJ_SIM", "4_LOT5_GROUP4_NOT_ADJ_NOT_SIM", "UNKNOWN"], "lots": ["1", "2", "3", "4", "5", "UNKNOWN"], "matrix": [{"group": "1_LOT1", "lot": "1", "count": 519946, "accounts": ["1010365088", "1040531962", "1043052135", "1055032932", "1090198189", "1050584996", "1010546309", "1055332758", "1052144551", "1047526719", "1047555077", "1041387709", "1047621576", "1090912353", "1008169021", "1037364945", "1055836179", "5002046355", "1041214790", "5001969158", "9100002320", "5001200636", "2008387593", "1009745581", "1008934836", "1038336759", "1090235521", "1049773586", "1045869139", "1049675231", "1010145843", "1041015119", "1052154077", "1041267843", "1039726941", "1050056507", "1050852125", "1039005209", "1052403964", "5001815584", "1052538193", "1052286291", "1090405982", "1044245743", "1047206129", "1052186920", "1045729574", "1044345918", "2010935446", "1046456717", "1048508242", "1042285691", "1091432711", "1009826913", "9100185152", "1050783166", "1090350789", "1038568846", "1039619053", "1043703764", "1046634607", "1048313069", "1050872738", "1049959949", "1049085582", "1055893245", "1052669972", "1048751864", "9200034667", "1037850157", "1041822510", "9100116217", "1053173474", "1008926531", "1040491510", "1051979528", "1041956681", "1041111312", "1090615499", "1055522565", "9100040069", "1044503521", "1038713285", "1049455312", "1046294555", "1050375920", "1043256342", "1008490954", "1090933741", "1042832633", "1049204786", "1050020987", "1046351362", "1052396550", "1040709508", "1046877526", "1044112360", "1045022071", "1053281048", "1038291755"]}, {"group": "1_LOT1", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT1", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT1", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT1", "lot": "5", "count": 0, "accounts": []}, {"group": "1_LOT1", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT2", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT2", "lot": "2", "count": 424969, "accounts": ["9100176925", "1052478131", "1046085301", "1091636139", "1054164940", "1041948743", "2010416422", "1045564788", "1050002091", "1048433781", "1001212045", "1090602028", "1003174477", "9100130968", "1044631767", "1009761048", "9100173416", "1053768540", "1043615091", "9100134533", "1044488379", "9100118987", "5002401619", "1052897142", "1009688278", "1046421638", "1038117933", "1007511788", "1010455311", "1052023762", "1041023634", "1006472517", "5001619157", "9100045288", "1048734226", "1052364152", "1045780324", "1048293122", "1039895042", "1042386684", "1002045045", "9100355557", "9100029315", "9100188026", "1052371922", "5001186625", "5000427912", "9100157228", "1037877160", "5002385893", "1047401126", "1006217894", "1054769796", "1038569915", "1090313549", "1037967100", "1039074707", "1007536985", "5000661842", "1037482115", "1037691938", "1000229416", "1004112130", "2009918738", "1052706576", "1038527368", "1055219528", "9100035028", "1091193164", "1044927240", "1091080068", "1052436110", "9100223215", "1043007296", "1038407117", "1037952073", "1049458435", "9100057539", "1045369063", "1045236926", "1040702694", "9100266894", "1039891241", "1053499736", "2008499456", "1056326174", "1002368669", "1037761332", "5000035348", "1046490168", "1042617783", "1044807830", "1043448462", "1055262601", "1091350847", "1053261616", "2010933036", "1051207177", "1041053010", "1002197430"]}, {"group": "1_LOT2", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT2", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT2", "lot": "5", "count": 0, "accounts": []}, {"group": "1_LOT2", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT3", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT3", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT3", "lot": "3", "count": 572376, "accounts": ["1052116205", "1008783021", "1043834761", "1054491135", "1049235347", "1009413929", "1053679696", "1049033647", "1009662724", "9200107799", "1049743946", "9100002103", "1090739120", "1091244982", "1008694274", "1051891965", "1042042314", "1044324058", "5001235073", "1090467848", "1044872330", "1044236884", "5001609763", "1010212478", "1051072719", "1043989056", "1010562975", "1044654732", "1044052708", "1044285176", "1043309071", "1043771603", "1049917952", "1047347229", "1038141648", "1042062048", "1048930998", "1051777283", "1042693544", "1039139817", "1040731295", "1043625305", "5001728010", "1009302191", "1041265484", "1008397237", "1041170173", "1005704759", "1049287665", "1038204666", "1042889058", "1046059076", "1043977147", "1047526913", "1009425102", "1006419985", "1049812697", "1091042654", "1046214462", "1045072672", "1054348022", "1053200870", "1040802494", "1041464991", "1045912395", "1042406006", "1046429450", "1053896204", "1051304199", "1002917883", "1053407629", "1045249734", "1055314466", "1053474156", "1047108690", "1038689813", "1010525956", "1040711685", "1046702998", "1050139135", "5000680375", "1053633505", "1048118967", "1043809899", "1046372815", "1045184950", "1054792984", "1040294669", "1053584482", "1007621222", "1042778787", "2009614321", "1040504590", "1010786172", "5000774442", "1038009839", "1041619979", "1046109863", "1001801474", "1051323754"]}, {"group": "1_LOT3", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT3", "lot": "5", "count": 0, "accounts": []}, {"group": "1_LOT3", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT4", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT4", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT4", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT4", "lot": "4", "count": 681500, "accounts": ["1003345794", "1005841357", "2009006143", "1039697968", "1052054048", "1001442679", "2010328884", "1051959373", "1003787711", "1036217361", "5000887778", "1002376637", "1054927588", "1049899245", "1002961467", "1033386464", "1045995436", "1091039823", "5000983343", "1047206773", "1006373160", "1004734484", "1004827539", "1002508479", "1055514333", "1031524215", "1001046390", "2008911993", "1006648771", "1006669639", "1005864454", "1023127709", "1006417133", "1031430075", "1025192001", "1090574296", "1034834150", "2010188969", "1014766281", "1028905904", "1029108684", "1002095743", "1035219360", "1030375208", "1038133653", "1006058257", "9100104067", "1000242803", "1002568420", "5002336272", "1042607621", "1000888851", "2009858190", "1006296298", "5001461774", "2009081862", "1036651029", "1007088109", "1007470143", "1007006986", "1045992755", "1031873996", "1001959167", "1033097403", "1007197412", "1004630379", "1034792520", "1055608168", "2010494334", "2008906825", "1039510256", "1006908927", "1027899250", "1000277348", "1033527475", "1045566837", "1030537550", "1004641737", "1004090080", "1010519905", "1002335620", "1004373864", "1029115338", "1005393702", "2008372510", "1036491358", "1047073056", "1001111281", "1091213750", "2010718968", "1036460320", "1054535272", "1043009825", "1005785384", "1017158177", "1044056231", "1004534167", "2009729099", "1042773874", "1039010105"]}, {"group": "1_LOT4", "lot": "5", "count": 0, "accounts": []}, {"group": "1_LOT4", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM", "lot": "5", "count": 46474, "accounts": ["5000778499", "1041773692", "1039682804", "5000632680", "1051897726", "1031955496", "5000110021", "1050106040", "5001121582", "2000113133", "5000199421", "5090032217", "5000281799", "1047456796", "1043888209", "5000027639", "1036665291", "1044856149", "5000070445", "1051016525", "5090097114", "5000065042", "5000486072", "1049418379", "2007939622", "1009613987", "1045797413", "1049495780", "1033146587", "5000699874", "1090081613", "1044528354", "1046272357", "5000140559", "5000390156", "1042370915", "1000592863", "1049489373", "1035578972", "5001065089", "2009213114", "5000395522", "1046071645", "1009649566", "1048593738", "5000857437", "5000567846", "5001117364", "5000051491", "1007184612", "5000421183", "1044652756", "1046225022", "1010056115", "1045306797", "5000176154", "1000076083", "1042275165", "1052221742", "1042327963", "1044430036", "5000130626", "1042818444", "1054130868", "1045440914", "1040377955", "5000915712", "1023546396", "1047338963", "5090016378", "1090712419", "5090123573", "1053540205", "2009325419", "1049545125", "1047694263", "5000363892", "5001155045", "1008495956", "1056509360", "5000763696", "1090745341", "1034364200", "1048481212", "1039882889", "5000147588", "5000645413", "1090407179", "1009146904", "1010314424", "1005935696", "1044758287", "1041766025", "1034453513", "1002378516", "1038295076", "1043676341", "5000635639", "1040088791", "1044443421"]}, {"group": "1_LOT5_GROUP1_ADJ_SIM", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM_HUMAN_CAP", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM_HUMAN_CAP", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM_HUMAN_CAP", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM_HUMAN_CAP", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_ADJ_SIM_HUMAN_CAP", "lot": "5", "count": 28, "accounts": ["1090688461", "5001178967", "1052169627", "1052132006", "5001447143", "5001212278", "1045319775", "5000414187", "5001185475", "5001195918", "5001198062", "5001177901", "1050837444", "5001369851", "1050720873", "5001453038", "1049407636", "5001546885", "5001548357", "5001480450", "5001198097", "1048551180", "5001441064", "5001267269", "5001271959", "5001453941", "5001198194", "5001194067"]}, {"group": "1_LOT5_GROUP1_ADJ_SIM_HUMAN_CAP", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM", "lot": "5", "count": 349191, "accounts": ["1040711928", "1035391376", "2007864096", "1006672524", "1046602942", "1090067084", "1000448908", "1045502340", "1037637119", "1000931641", "1040752780", "1040582958", "1043493204", "1047903490", "1010615181", "1003581331", "1090475980", "1044553804", "1042508216", "1036149722", "1054604045", "1006166971", "1008304867", "1008425508", "1038709121", "1011052989", "1050598903", "1044374411", "1006270930", "1091126823", "1000601412", "5001248876", "1053043554", "1040070272", "1008680486", "1007186704", "1038245796", "1028765673", "1043199888", "1041963661", "1047108976", "1002146488", "1008836176", "1006035028", "1055862048", "2008145069", "1006212205", "1009273736", "1038080444", "1006405348", "1042662134", "1038124417", "1037328957", "1053043503", "1040641423", "1041663919", "1039927637", "1049049578", "1048174220", "1000594696", "1042927669", "1039003893", "1003266576", "1010336053", "1004484607", "1002826209", "1001902947", "1004484992", "1047689928", "1044026561", "1090475948", "1037845714", "1051116945", "1043052402", "1007497610", "2009706633", "1037737776", "1002867525", "1091016505", "1044422009", "1005479194", "1037534875", "1004493037", "1037889959", "1007300256", "1046912925", "1042392269", "1006968725", "1006637923", "1041087462", "1008744034", "1042875057", "1000089207", "1091051351", "1037939034", "1010110187", "1041721293", "5090044495", "1090047431", "1044872047"]}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM_HUMAN_CAP", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM_HUMAN_CAP", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM_HUMAN_CAP", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM_HUMAN_CAP", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM_HUMAN_CAP", "lot": "5", "count": 842, "accounts": ["5001389631", "5090090179", "1054256969", "1052171761", "5001194571", "1049968387", "5001264766", "1051085632", "1091148886", "1052688381", "5001314704", "1055629025", "5090065808", "1054116946", "1050876997", "1050840305", "5001535352", "1050987195", "1052060617", "1049603087", "5001244293", "5001226805", "1052541593", "1042889244", "5001626609", "5002467963", "1054172986", "5001479576", "5001194997", "1053711891", "1051076293", "1053977263", "5001234778", "1052054315", "1051736412", "1051452252", "5001653975", "5001886368", "1052681026", "5001217504", "5002089305", "5001239206", "5001395135", "1052273130", "1050801393", "5001215528", "1051017882", "5001304393", "5001174430", "1052560849", "5001247853", "5002055354", "5001194083", "5001540836", "5001280753", "1052044883", "1054491704", "1050968476", "5001486866", "5001464536", "5001382076", "5001362598", "5001412773", "1051731488", "1091134869", "1050956745", "1052530370", "1049518195", "1052674526", "1051136865", "5001390974", "1052128114", "1055628959", "1051152143", "5001195004", "5001681820", "5001731488", "1054443858", "1053222033", "1050514009", "1050740076", "5001397928", "5001389976", "1051730678", "1052519369", "5001235855", "5001264774", "1052131441", "1054168652", "5001184738", "1091120620", "1050828690", "1054904162", "5001261805", "1050923715", "5001481600", "1053439830", "5001285755", "5001380251", "5001637929"]}, {"group": "1_LOT5_GROUP1_NOT_ADJ_NOT_SIM_HUMAN_CAP", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "1_LOT5_NOT_IN_12_CASE", "lot": "1", "count": 0, "accounts": []}, {"group": "1_LOT5_NOT_IN_12_CASE", "lot": "2", "count": 0, "accounts": []}, {"group": "1_LOT5_NOT_IN_12_CASE", "lot": "3", "count": 0, "accounts": []}, {"group": "1_LOT5_NOT_IN_12_CASE", "lot": "4", "count": 0, "accounts": []}, {"group": "1_LOT5_NOT_IN_12_CASE", "lot": "5", "count": 11, "accounts": ["1046577379", "1001372131", "1004307411", "1026550653", "1039270220", "1001060253", "1037554361", "1025429036", "1044880252", "1000707598", "1041334532"]}, {"group": "1_LOT5_NOT_IN_12_CASE", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "2_LOT2", "lot": "1", "count": 0, "accounts": []}, {"group": "2_LOT2", "lot": "2", "count": 1, "accounts": ["1042888175"]}, {"group": "2_LOT2", "lot": "3", "count": 0, "accounts": []}, {"group": "2_LOT2", "lot": "4", "count": 0, "accounts": []}, {"group": "2_LOT2", "lot": "5", "count": 0, "accounts": []}, {"group": "2_LOT2", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "2_LOT4", "lot": "1", "count": 0, "accounts": []}, {"group": "2_LOT4", "lot": "2", "count": 0, "accounts": []}, {"group": "2_LOT4", "lot": "3", "count": 0, "accounts": []}, {"group": "2_LOT4", "lot": "4", "count": 913, "accounts": ["1022433377", "1018640436", "1027008437", "1017044848", "1033059153", "1029813728", "1015581579", "1033365270", "1024677133", "1034285246", "1016970994", "1024706451", "1030514054", "1016425031", "1017359466", "1027154638", "1022948156", "1012899705", "1019219017", "1015444938", "1012655334", "1012480984", "1023424339", "1025624408", "1018808787", "1027699677", "1013907833", "1022075187", "1024155277", "1028925395", "1028279361", "1025459091", "1025453425", "1027873812", "1021181846", "1027070221", "1029911975", "1016782667", "1014986397", "1011443805", "1028213549", "1013193458", "1024622630", "1017620830", "1024722147", "1025617142", "1013726286", "1025509315", "1026427711", "1019931140", "1030875618", "1036926370", "1018426671", "1020216743", "1015592805", "1021057126", "1034416170", "1026157927", "1014385121", "1023357712", "1022711903", "1022711881", "1024961125", "1031394044", "1019367679", "1030845697", "1022696165", "1029656592", "1023073730", "1024150054", "1026013313", "1017157367", "1024852024", "1013311752", "1012619303", "1026614708", "1012851338", "1019065761", "1029464197", "1024418529", "1026882923", "1026692458", "1028892241", "1022227629", "1018606572", "1016399596", "1028505841", "1011435845", "1022648349", "1028202857", "1015683827", "1019468327", "1019596988", "1012582639", "1015016766", "1016476531", "1018261990", "1016519540", "1033119350", "1032806613"]}, {"group": "2_LOT4", "lot": "5", "count": 0, "accounts": []}, {"group": "2_LOT4", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "2_LOT5_GROUP2_ADJ_SIM", "lot": "1", "count": 0, "accounts": []}, {"group": "2_LOT5_GROUP2_ADJ_SIM", "lot": "2", "count": 0, "accounts": []}, {"group": "2_LOT5_GROUP2_ADJ_SIM", "lot": "3", "count": 0, "accounts": []}, {"group": "2_LOT5_GROUP2_ADJ_SIM", "lot": "4", "count": 0, "accounts": []}, {"group": "2_LOT5_GROUP2_ADJ_SIM", "lot": "5", "count": 117, "accounts": ["1023835770", "1015791875", "1020748923", "1033125318", "1022966588", "1021530859", "1017265615", "1029278717", "1029864993", "1027567215", "1020701757", "1011404044", "1025640802", "1024879917", "1017503362", "1019538600", "1028670354", "1020347341", "1031376143", "1013020634", "1018241469", "1021815020", "1025520211", "1018682155", "1024833194", "1015285791", "1025731840", "1018841644", "1021291323", "1025978463", "1016389620", "1020765933", "1020337516", "1027314449", "1026358221", "1020729767", "1014796970", "1021219967", "1025619048", "1020599944", "1019761830", "1023353083", "1029138141", "1015249515", "1032947543", "1026945356", "1025390288", "1023089599", "1024527905", "1020891912", "1025257758", "1020472308", "1022336959", "1028498594", "1022714724", "1029449155", "1022665103", "1028319800", "1020582774", "1029932360", "1012539989", "1016289065", "1037261054", "1031414657", "1016318995", "1017527504", "1029156182", "1029672652", "1012533034", "1019744278", "1026009839", "1022606387", "1021439630", "1019655259", "1032821264", "1022921266", "1025630750", "1028372019", "1030224366", "1028683502", "1027655025", "1019471093", "1019437480", "1021192945", "1025614852", "1020361239", "1020498528", "1026496306", "1025586778", "1036966143", "1014629616", "1014992893", "1015791883", "1021474134", "1025931491", "1025322967", "1017096031", "1018729569", "1020928735", "1016244320"]}, {"group": "2_LOT5_GROUP2_ADJ_SIM", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "2_LOT5_NOT_IN_12_CASE", "lot": "1", "count": 0, "accounts": []}, {"group": "2_LOT5_NOT_IN_12_CASE", "lot": "2", "count": 0, "accounts": []}, {"group": "2_LOT5_NOT_IN_12_CASE", "lot": "3", "count": 0, "accounts": []}, {"group": "2_LOT5_NOT_IN_12_CASE", "lot": "4", "count": 0, "accounts": []}, {"group": "2_LOT5_NOT_IN_12_CASE", "lot": "5", "count": 1, "accounts": ["1014426375"]}, {"group": "2_LOT5_NOT_IN_12_CASE", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "3_LOT2", "lot": "1", "count": 0, "accounts": []}, {"group": "3_LOT2", "lot": "2", "count": 3695, "accounts": ["2008812979", "2008976947", "2000088597", "2008859762", "2009234111", "2010961536", "2010793498", "2008987868", "2008536475", "2008964582", "2010248627", "2008901173", "2008505596", "2010819772", "2010982460", "2010458451", "2008746534", "1045583642", "2010682920", "2008982130", "2008729451", "2010592093", "2010866371", "1039129900", "2010873203", "2009553489", "2010226178", "2008957578", "2010840208", "2010624394", "2009611624", "2008556964", "2010219945", "2010598008", "2008737969", "2008973395", "2010023714", "2008964183", "2010440471", "2009467817", "2009862481", "2008500977", "1006036423", "2010847717", "2010517431", "2000201326", "2010587200", "2010825179", "2008916545", "2008700887", "1010485563", "2009876504", "2009407059", "2008967573", "2009693906", "2000240089", "2007865963", "2008592308", "2000281672", "1040296610", "2008288153", "2009890744", "2009851854", "2008874176", "2009603788", "2008964531", "2010475208", "2009870018", "2009645499", "2009727126", "2000150292", "2010306244", "2009457609", "2009113373", "2008793052", "2009513134", "2008451224", "1009153846", "1010698001", "2009311442", "2007957191", "2010822722", "2010856171", "2008970892", "2009753453", "2008962792", "2010856465", "2010117131", "2010798937", "2008424715", "2008702006", "2011000637", "2009571142", "2008733408", "2008567192", "2008930475", "2010619390", "2011013763", "2009783530", "2008558347"]}, {"group": "3_LOT2", "lot": "3", "count": 0, "accounts": []}, {"group": "3_LOT2", "lot": "4", "count": 0, "accounts": []}, {"group": "3_LOT2", "lot": "5", "count": 0, "accounts": []}, {"group": "3_LOT2", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "3_LOT3", "lot": "1", "count": 0, "accounts": []}, {"group": "3_LOT3", "lot": "2", "count": 0, "accounts": []}, {"group": "3_LOT3", "lot": "3", "count": 202106, "accounts": ["1007623764", "1036690032", "1003539041", "2009742931", "1011869071", "1009569783", "1004491247", "1034968777", "2009764234", "1011989433", "1008436119", "1018647368", "1007152281", "1040044220", "1028070861", "1015062792", "2009561945", "1000645363", "1033119849", "2009929136", "1006109188", "1012554813", "1035951401", "1027479650", "1013986474", "1007038926", "1034118838", "2010109414", "1001270673", "1034898558", "1028624409", "1037286979", "1007239158", "1030159432", "2000404987", "1011133288", "1033971820", "2009478258", "1037413970", "2010613589", "1036864820", "1009366327", "1021192295", "2009494059", "2000261590", "1015712525", "1014421357", "1011963922", "1012281043", "2010470664", "1014664373", "1034902512", "1028428278", "1016743424", "2009013727", "1027724914", "1018798099", "1017593906", "1016032854", "1010348825", "1018249877", "1008327719", "1023602938", "1007505354", "2008722171", "1032177748", "1020373164", "1035573954", "1000704920", "1002875463", "1024227677", "1015402895", "1014212189", "1003258840", "1035880636", "1006268928", "1020047585", "2009056795", "2008346315", "1020390352", "2007867745", "1010665146", "1031754350", "1014320135", "1036576655", "2010798295", "1038327040", "2009773268", "1037628357", "2010873297", "1018584250", "1001181158", "1013761901", "1014281210", "1039558348", "1002614090", "2010774620", "1003335284", "1023181339", "1009880616"]}, {"group": "3_LOT3", "lot": "4", "count": 0, "accounts": []}, {"group": "3_LOT3", "lot": "5", "count": 0, "accounts": []}, {"group": "3_LOT3", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "3_LOT4", "lot": "1", "count": 0, "accounts": []}, {"group": "3_LOT4", "lot": "2", "count": 0, "accounts": []}, {"group": "3_LOT4", "lot": "3", "count": 0, "accounts": []}, {"group": "3_LOT4", "lot": "4", "count": 196933, "accounts": ["1002884977", "2008750272", "1035779137", "2000397891", "1014087368", "1018828591", "2008718212", "1015098630", "1005178380", "1008104345", "1037226550", "1005987947", "1012594998", "1006637133", "1036092003", "1020638907", "2010668448", "1024901645", "1021886149", "1019407093", "2000005381", "1006991190", "1028133669", "1015265480", "1020268026", "1024479919", "1017928614", "2009183835", "1001402766", "1003651100", "2008817318", "1002036267", "1018290095", "1018294864", "1022351796", "1013725441", "1004829205", "1020092998", "1000795497", "1018287892", "1001692497", "1037675177", "1019379308", "1015227252", "1026380111", "1021840068", "1021710717", "1022503081", "2010771656", "1019022760", "2008744639", "1036282651", "1011345889", "1005836892", "1013234057", "2000244793", "1025982703", "1006051368", "1020196106", "1021452734", "1006364412", "1023515741", "1029110166", "2008721892", "1005877440", "1009491474", "1034553437", "1006812849", "1009788809", "1036476219", "2000001785", "1041262329", "1000463877", "2008985512", "2009810244", "1028336314", "2000075231", "1011205483", "1015567916", "1032781491", "2008895963", "1024508269", "1000458938", "1027081436", "1006347976", "1001021606", "1001536398", "1022961926", "1020061014", "2007876825", "1033746665", "1025823451", "1030830711", "1010036831", "2008857859", "1015070949", "1017026114", "1007239271", "1013148088", "1023095823"]}, {"group": "3_LOT4", "lot": "5", "count": 0, "accounts": []}, {"group": "3_LOT4", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_ONLY", "lot": "1", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_ONLY", "lot": "2", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_ONLY", "lot": "3", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_ONLY", "lot": "4", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_ONLY", "lot": "5", "count": 28, "accounts": ["1000310760", "1022356445", "1008262129", "1001865030", "1025360966", "1012354210", "1007652853", "1010315072", "1007574801", "1031908013", "2000276431", "5000085574", "1006844074", "2009191633", "1023164337", "1008092894", "1001840313", "1010332112", "1027614566", "1008916676", "1010375512", "1027361188", "1006265228", "1021488992", "1020922958", "5000076206", "1000318621", "1039936164"]}, {"group": "3_LOT5_GROUP3_ADJ_ONLY", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_SIM", "lot": "1", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_SIM", "lot": "2", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_SIM", "lot": "3", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_SIM", "lot": "4", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_ADJ_SIM", "lot": "5", "count": 199402, "accounts": ["1023375389", "1017676712", "1026923379", "1000795179", "1006980784", "1030204543", "1002171032", "1012038378", "1014175143", "1006587977", "1032849797", "1024017532", "1030465525", "1032349069", "1010155342", "1018325425", "1025646142", "1003520073", "1027309623", "1031759549", "1006359958", "2009994086", "2008366502", "1020283327", "1004183828", "1033001562", "1006459162", "1018773053", "1032264810", "1028228112", "1007124083", "1007546859", "1017462232", "1003843530", "1036538184", "1030420041", "1002959063", "1014063930", "1012651967", "1018602542", "1001635647", "2010400976", "2010441036", "2010228766", "1038438691", "1025547845", "1029188467", "1011077329", "1034970917", "1030422362", "1013156358", "1028414013", "1023938049", "1006075380", "1027488420", "1025777352", "1026205298", "1020712546", "1024343049", "1014832004", "1037739507", "1014763924", "1001563034", "1013932595", "1023248751", "1017221138", "1030811466", "1016198280", "1007422610", "1007259353", "1014389119", "1001360982", "1007584262", "2010939549", "1006314016", "1023718790", "1030637180", "1034671626", "2000082718", "2000093868", "1033141577", "1028054181", "1001397762", "1006183582", "1019745673", "1013828011", "1000771970", "1031406174", "1030348391", "1027844413", "1018759549", "1030547262", "1009951750", "1008384887", "1000994147", "1029876738", "1032302321", "1026754305", "1027830870", "1033054534"]}, {"group": "3_LOT5_GROUP3_ADJ_SIM", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_NOT_ADJ_NOT_SIM", "lot": "1", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_NOT_ADJ_NOT_SIM", "lot": "2", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_NOT_ADJ_NOT_SIM", "lot": "3", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_NOT_ADJ_NOT_SIM", "lot": "4", "count": 0, "accounts": []}, {"group": "3_LOT5_GROUP3_NOT_ADJ_NOT_SIM", "lot": "5", "count": 750, "accounts": ["2008537056", "2008846172", "2010978285", "2000059384", "1021881880", "2008902056", "2009655109", "2010793595", "1024487431", "2009441524", "1012742415", "1032661917", "2008868648", "2010182367", "1003603181", "1000526771", "1014817757", "2008903737", "2010998685", "1011998130", "2008810062", "2008492400", "2009909925", "2009971914", "2008569144", "1019803851", "2010528808", "2008898245", "2008100669", "1031367985", "2008696677", "2009860594", "2008738612", "1011659808", "2008529207", "2008890554", "1024780503", "2008877647", "1036887065", "2010809467", "2008506932", "2008977927", "1012834891", "2000351344", "2010976428", "1026441382", "2008657876", "2008456889", "1006680020", "2008797457", "2009674324", "2010253108", "1015723357", "2009287010", "2008623491", "2009118162", "1037059719", "1035273039", "2010978234", "1037075560", "2007888513", "1036772098", "1000207544", "2010976576", "2009031636", "2009336747", "1001286855", "1011754290", "1015291597", "1015265464", "2009239474", "2010838645", "2010831810", "2009907221", "1040029469", "2010514831", "2008386384", "2009603052", "2008623467", "2008835251", "2008923452", "2000285910", "2008703924", "2009753097", "2000000169", "1015308309", "2000375456", "2008546799", "1008811548", "1016174586", "2008754243", "2000390463", "1007649798", "1014226082", "2009598059", "1016618018", "1006905138", "2007958791", "1015275044", "1015881300"]}, {"group": "3_LOT5_GROUP3_NOT_ADJ_NOT_SIM", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "3_LOT5_NOT_IN_12_CASE", "lot": "1", "count": 0, "accounts": []}, {"group": "3_LOT5_NOT_IN_12_CASE", "lot": "2", "count": 0, "accounts": []}, {"group": "3_LOT5_NOT_IN_12_CASE", "lot": "3", "count": 0, "accounts": []}, {"group": "3_LOT5_NOT_IN_12_CASE", "lot": "4", "count": 0, "accounts": []}, {"group": "3_LOT5_NOT_IN_12_CASE", "lot": "5", "count": 1069, "accounts": ["1009603582", "2009773306", "2009697979", "1031081712", "1006469362", "1027664865", "1028322585", "1028389299", "1035321025", "1005496706", "1019572639", "2009265475", "1002804515", "1036199533", "2008524787", "1034069683", "1036230015", "1006106324", "1001558790", "1035647532", "2008493377", "1006154698", "1013256492", "1011793628", "1025809270", "1036296008", "2008250962", "2000363202", "1002527635", "1007552816", "1020046600", "1007007303", "2000109888", "1006296131", "2008197913", "1000391698", "1002628369", "1032774304", "1004853157", "2010930061", "2000256732", "1017988056", "1034287362", "2009528611", "1029381097", "1006463062", "1021457345", "1004814917", "1007049693", "2011006708", "1006560440", "2000116191", "2010034163", "2010049802", "1021211664", "1004397828", "1006436561", "1006968296", "1024972593", "2010034422", "1001403312", "1028420269", "1033383694", "2008263673", "1035668963", "1021545414", "1034625403", "1030819467", "1006412948", "2009952804", "2000205658", "1005059187", "2010668863", "1006059121", "1013984846", "1008915408", "1003884415", "1036382540", "1020466561", "2000077692", "1036480607", "2009549325", "1006117318", "1034874527", "2008449130", "1027737463", "2009250567", "1026924111", "1020398876", "2008280454", "2008651207", "2009629124", "1021579025", "2009079922", "1041613733", "1012364542", "1030449155", "2007970058", "1005499349", "1016059876"]}, {"group": "3_LOT5_NOT_IN_12_CASE", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "4_LOT2", "lot": "1", "count": 0, "accounts": []}, {"group": "4_LOT2", "lot": "2", "count": 4, "accounts": ["1008485055", "1007695935", "1007688149", "1010937820"]}, {"group": "4_LOT2", "lot": "3", "count": 0, "accounts": []}, {"group": "4_LOT2", "lot": "4", "count": 0, "accounts": []}, {"group": "4_LOT2", "lot": "5", "count": 0, "accounts": []}, {"group": "4_LOT2", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "4_LOT4", "lot": "1", "count": 0, "accounts": []}, {"group": "4_LOT4", "lot": "2", "count": 0, "accounts": []}, {"group": "4_LOT4", "lot": "3", "count": 0, "accounts": []}, {"group": "4_LOT4", "lot": "4", "count": 260364, "accounts": ["1013610210", "1022463861", "1012954943", "1013740785", "1015725570", "1017952108", "1013931866", "1030369534", "1027697666", "1029037183", "1022247808", "1016644124", "1017047626", "1027193846", "1023481464", "1020265124", "1025938259", "1018750266", "1021981923", "1020845880", "1012453480", "1034301470", "1016995148", "1011504235", "1031646337", "1018475710", "1014976480", "1021971715", "1018585192", "1011538202", "1023443279", "1012114678", "1021419990", "1014409152", "1019316322", "1024213498", "1019215313", "1023333430", "1032042710", "1023930544", "1025801660", "1037073568", "1017895430", "1014306752", "1019355719", "1031624635", "1023145421", "1031030832", "1023033623", "1019272015", "1019624043", "1014151805", "1019551399", "1024101762", "1012850021", "1023579847", "1030972052", "1020519681", "1032659653", "1013074785", "1028832664", "1011898756", "1014214041", "1015525199", "1026028329", "1013805828", "1014361400", "1012119882", "1031064583", "1022995804", "1020196890", "1025514467", "1023190168", "1011907313", "1026653142", "1034432370", "1027132049", "1027145213", "1018837329", "1026699266", "1027288006", "1018258353", "1025406052", "1011883805", "1019626224", "1020127783", "1016148275", "1025834771", "1021078085", "1013107217", "1033677752", "1022742957", "1017846278", "1017601739", "1022398830", "1024492265", "1023739127", "1025501489", "1018652620", "1013918428"]}, {"group": "4_LOT4", "lot": "5", "count": 0, "accounts": []}, {"group": "4_LOT4", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_ADJ_SIM", "lot": "1", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_ADJ_SIM", "lot": "2", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_ADJ_SIM", "lot": "3", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_ADJ_SIM", "lot": "4", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_ADJ_SIM", "lot": "5", "count": 51813, "accounts": ["1015653774", "1032372494", "1029886164", "1015771955", "1027552919", "1021965316", "1029138117", "1028675712", "1024616959", "1015761224", "1037071999", "1023743299", "1027190987", "1023002620", "1032262907", "1024778037", "1015818730", "1015197620", "1013472209", "1027214010", "1019805641", "1011459280", "1021638854", "1033648329", "1021393797", "1013595947", "1031050256", "1030846561", "1013786971", "1028207530", "1026624487", "1023750260", "1019489979", "1029558299", "1035756471", "1023652463", "1034955861", "1027511481", "1033555215", "1032328681", "1023391996", "1031848193", "1011896346", "1012795195", "1030998876", "1021862479", "1028025653", "1026000580", "1021129224", "1018940731", "1022455338", "1022223364", "1035539012", "1033322571", "1030108994", "1019103809", "1024663388", "1024158632", "1023091062", "1029067872", "1021519545", "1023482827", "1026959578", "1022923803", "1016687443", "1019709219", "1023188694", "1029485380", "1021508004", "1035263858", "1019629371", "1032388528", "1022771310", "1023040964", "1033649295", "1015553133", "1028756321", "1033906921", "1016095546", "1027221688", "1017713243", "1020957921", "1023529475", "1034501135", "1020774819", "1015164838", "1022862901", "1020491213", "1016077297", "1017786887", "1034169521", "1033233625", "1022182145", "1029403015", "1023823667", "1023809222", "1029703558", "1035574195", "1029477361", "1030491291"]}, {"group": "4_LOT5_GROUP4_ADJ_SIM", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_NOT_ADJ_NOT_SIM", "lot": "1", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_NOT_ADJ_NOT_SIM", "lot": "2", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_NOT_ADJ_NOT_SIM", "lot": "3", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_NOT_ADJ_NOT_SIM", "lot": "4", "count": 0, "accounts": []}, {"group": "4_LOT5_GROUP4_NOT_ADJ_NOT_SIM", "lot": "5", "count": 2, "accounts": ["1013380193", "1033151971"]}, {"group": "4_LOT5_GROUP4_NOT_ADJ_NOT_SIM", "lot": "UNKNOWN", "count": 0, "accounts": []}, {"group": "UNKNOWN", "lot": "1", "count": 0, "accounts": []}, {"group": "UNKNOWN", "lot": "2", "count": 0, "accounts": []}, {"group": "UNKNOWN", "lot": "3", "count": 0, "accounts": []}, {"group": "UNKNOWN", "lot": "4", "count": 0, "accounts": []}, {"group": "UNKNOWN", "lot": "5", "count": 0, "accounts": []}, {"group": "UNKNOWN", "lot": "UNKNOWN", "count": 31, "accounts": ["1002107989", "1000803287", "1007156295", "1000010198", "1001304098", "1005370842", "1000495442", "1014779855", "1005269157", "1004453302", "1002352444", "1036553817", "1001136195", "1011793229", "1026483506", "1003335276", "1007434902", "1004183305", "1020530618", "1006738185", "1005813183", "1005919062", "1009830732", "1000288056", "1006030670", "1011912406", "1006752706", "1002336961", "1000427684", "1005529698", "1007069538"]}], "metadata": {"generated_at": "2025-10-01T10:33:09.964249", "total_accounts": 3512566, "total_groups": 25, "total_lots": 6, "lot5_consolidated": true}};
        
        // Global variables
        let data = VISUALIZATION_DATA;
        let currentColorScheme = 'pantone';
        let cellSizeValue = 50;
        let svg = null;
        let xScale, yScale;
        
        // Color schemes
        const colorSchemes = {
            pantone: {
                scale: d3.scaleSequential()
                    .interpolator(d3.interpolateRgbBasis([
                        '#0F4C81',
                        '#6667AB',
                        '#BB2649',
                        '#FFBE98',
                        '#F5DF4D'
                    ]))
            },
            heat: {
                scale: d3.scaleSequential(d3.interpolateInferno)
            },
            cool: {
                scale: d3.scaleSequential(d3.interpolateBlues)
            },
            vibrant: {
                scale: d3.scaleSequential(d3.interpolateRainbow)
            }
        };
        
        function initializeVisualization() {
            document.getElementById('matrix-viz').innerHTML = '';
            
            const margin = {top: 120, right: 50, bottom: 50, left: 120};
            const cellSize = cellSizeValue;
            const width = Math.max(800, data.lots.length * cellSize + margin.left + margin.right);
            const height = Math.max(600, data.groups.length * cellSize + margin.top + margin.bottom);
            
            svg = d3.select('#matrix-viz')
                .append('svg')
                .attr('width', '100%')
                .attr('height', height)
                .attr('viewBox', `0 0 ${width} ${height}`)
                .attr('preserveAspectRatio', 'xMinYMin meet');
            
            xScale = d3.scaleBand()
                .domain(data.lots)
                .range([margin.left, width - margin.right])
                .padding(0.1);
            
            yScale = d3.scaleBand()
                .domain(data.groups)
                .range([margin.top, height - margin.bottom])
                .padding(0.1);
            
            drawMatrix();
            drawAxes();
            populateFilters();
            setupEventListeners();
        }
        
        function drawMatrix() {
            const maxCount = d3.max(data.matrix, d => d.count);
            const colorScale = colorSchemes[currentColorScheme].scale.domain([0, maxCount]);
            
            const cells = svg.selectAll('.cell-group')
                .data(data.matrix)
                .enter()
                .append('g')
                .attr('class', 'cell-group')
                .attr('transform', d => `translate(${xScale(d.lot)}, ${yScale(d.group)})`);
            
            cells.append('rect')
                .attr('class', 'cell')
                .attr('width', xScale.bandwidth())
                .attr('height', yScale.bandwidth())
                .attr('fill', d => d.count > 0 ? colorScale(d.count) : '#1a1f3a')
                .attr('rx', 4)
                .attr('ry', 4)
                .on('mouseover', showTooltip)
                .on('mousemove', moveTooltip)
                .on('mouseout', hideTooltip)
                .on('click', showDetails);
            
            cells.append('text')
                .attr('x', xScale.bandwidth() / 2)
                .attr('y', yScale.bandwidth() / 2)
                .attr('text-anchor', 'middle')
                .attr('dominant-baseline', 'middle')
                .attr('fill', d => d.count > 50 ? '#ffffff' : '#a0a9c9')
                .attr('font-size', Math.min(12, xScale.bandwidth() / 3) + 'px')
                .attr('font-weight', '600')
                .attr('pointer-events', 'none')
                .text(d => d.count > 0 ? d.count : '');
        }
        
        function drawAxes() {
            svg.selectAll('.x-label')
                .data(data.lots)
                .enter()
                .append('text')
                .attr('class', 'axis-label x-label')
                .attr('x', d => xScale(d) + xScale.bandwidth() / 2)
                .attr('y', 90)
                .attr('text-anchor', 'middle')
                .attr('font-size', '11px')
                .text(d => d)
                .on('click', (event, d) => filterByLot(d));
            
            svg.selectAll('.y-label')
                .data(data.groups)
                .enter()
                .append('text')
                .attr('class', 'axis-label y-label')
                .attr('x', 100)
                .attr('y', d => yScale(d) + yScale.bandwidth() / 2)
                .attr('text-anchor', 'end')
                .attr('dominant-baseline', 'middle')
                .attr('font-size', '11px')
                .text(d => d)
                .on('click', (event, d) => filterByGroup(d));
            
            svg.append('text')
                .attr('x', svg.node().getBBox().width / 2)
                .attr('y', 40)
                .attr('text-anchor', 'middle')
                .attr('fill', '#F5DF4D')
                .attr('font-size', '14px')
                .attr('font-weight', '600')
                .text('LOTS →');
            
            svg.append('text')
                .attr('x', -svg.node().getBBox().height / 2)
                .attr('y', 20)
                .attr('text-anchor', 'middle')
                .attr('fill', '#F5DF4D')
                .attr('font-size', '14px')
                .attr('font-weight', '600')
                .attr('transform', 'rotate(-90, 20, 0)')
                .text('GROUPS ↓');
        }
        
        function showTooltip(event, d) {
            const tooltip = document.getElementById('tooltip');
            tooltip.innerHTML = `
                <h3>${d.group} × ${d.lot}</h3>
                <p class="count">${d.count} accounts</p>
                ${d.accounts.length > 0 ? 
                    `<p style="font-size: 0.8rem; margin-top: 0.5rem;">Sample accounts:</p>
                     <p style="font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: #FFBE98;">
                        ${d.accounts.slice(0, 5).join('<br>')}
                        ${d.accounts.length > 5 ? '<br>...' : ''}
                     </p>` : ''}
            `;
            tooltip.classList.add('show');
        }
        
        function moveTooltip(event) {
            const tooltip = document.getElementById('tooltip');
            tooltip.style.left = (event.pageX + 10) + 'px';
            tooltip.style.top = (event.pageY - 10) + 'px';
        }
        
        function hideTooltip() {
            document.getElementById('tooltip').classList.remove('show');
        }
        
        function showDetails(event, d) {
            const accountList = d.accounts.join('\n');
            alert(`Details for ${d.group} × ${d.lot}:\n\nTotal Accounts: ${d.count}\n\nAccounts (showing first 100):\n${accountList.substring(0, 1000)}${accountList.length > 1000 ? '\n...' : ''}`);
        }
        
        function filterByGroup(group) {
            document.getElementById('filterGroup').value = group;
            applyFilters();
        }
        
        function filterByLot(lot) {
            document.getElementById('filterLot').value = lot;
            applyFilters();
        }
        
        function applyFilters() {
            const groupFilter = document.getElementById('filterGroup').value;
            const lotFilter = document.getElementById('filterLot').value;
            
            svg.selectAll('.cell-group')
                .style('opacity', d => {
                    const groupMatch = groupFilter === 'all' || d.group === groupFilter;
                    const lotMatch = lotFilter === 'all' || d.lot === lotFilter;
                    return groupMatch && lotMatch ? 1 : 0.2;
                });
        }
        
        function populateFilters() {
            const groupSelect = document.getElementById('filterGroup');
            const lotSelect = document.getElementById('filterLot');
            
            data.groups.forEach(group => {
                const option = document.createElement('option');
                option.value = group;
                option.textContent = group;
                groupSelect.appendChild(option);
            });
            
            data.lots.forEach(lot => {
                const option = document.createElement('option');
                option.value = lot;
                option.textContent = lot;
                lotSelect.appendChild(option);
            });
        }
        
        function updateStatistics() {
            const totalAccounts = data.metadata.total_accounts;
            const avgDensity = Math.round(totalAccounts / data.matrix.length);
            const maxCluster = Math.max(...data.matrix.map(d => d.count));
            
            animateCounter('totalAccounts', totalAccounts);
            animateCounter('totalGroups', data.metadata.total_groups);
            animateCounter('totalLots', data.metadata.total_lots);
            animateCounter('avgDensity', avgDensity);
            animateCounter('maxCluster', maxCluster);
        }
        
        function animateCounter(id, target) {
            const element = document.getElementById(id);
            const duration = 1000;
            const start = 0;
            const increment = target / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.round(current).toLocaleString();
                element.classList.add('updating');
                setTimeout(() => element.classList.remove('updating'), 500);
            }, 16);
        }
        
        function setupEventListeners() {
            document.getElementById('colorScheme').addEventListener('change', (e) => {
                currentColorScheme = e.target.value;
                updateColors();
            });
            
            document.getElementById('cellSize').addEventListener('input', (e) => {
                cellSizeValue = parseInt(e.target.value);
                initializeVisualization();
                updateStatistics();
            });
            
            document.getElementById('filterGroup').addEventListener('change', applyFilters);
            document.getElementById('filterLot').addEventListener('change', applyFilters);
        }
        
        function updateColors() {
            const maxCount = d3.max(data.matrix, d => d.count);
            const colorScale = colorSchemes[currentColorScheme].scale.domain([0, maxCount]);
            
            svg.selectAll('.cell')
                .transition()
                .duration(500)
                .attr('fill', d => d.count > 0 ? colorScale(d.count) : '#1a1f3a');
        }
        
        function resetView() {
            document.getElementById('filterGroup').value = 'all';
            document.getElementById('filterLot').value = 'all';
            document.getElementById('colorScheme').value = 'pantone';
            document.getElementById('cellSize').value = 50;
            currentColorScheme = 'pantone';
            cellSizeValue = 50;
            applyFilters();
            updateColors();
        }
        
        function exportData() {
            let csv = 'GROUP,LOT,COUNT\n';
            data.matrix.forEach(d => {
                csv += `${d.group},${d.lot},${d.count}\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'account_matrix_export.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }
        
        window.addEventListener('DOMContentLoaded', () => {
            initializeVisualization();
            updateStatistics();
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                resetView();
            }
        });
    </script>
</body>
</html>
